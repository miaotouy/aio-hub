/* AIO Hub Mobile Theme Base */
/* 
 * 核心颜色系统已对接 MD3 (Material Design 3)
 * 由 src/stores/theme.ts 通过 StyleProvider 动态派生并注入
 */

:root {
  /* --- 桌面端兼容变量映射 --- */
  /* 将桌面端常用的变量名映射到 Varlet/MD3 派生变量上 */
  --primary-color: var(--color-primary);
  --success-color: var(--color-success);
  --warning-color: var(--color-warning);
  --danger-color: var(--color-danger);
  --info-color: var(--color-info);
  --error-color: var(--color-error);

  --bg-color: var(--color-body);
  --text-color: var(--color-text);
  --border-color: var(--color-outline);
  --card-bg: var(--color-surface-container-low);
  --container-bg: var(--color-surface-container);
  --input-bg: var(--color-surface-container-high);
  --sidebar-bg: var(--color-surface-container-low);
  
  /* 质感变量 */
  --ui-blur: 10px;
  --card-opacity: 0.85;
  
  /* 圆角规范 */
  --app-radius-lg: 12px;
  --app-radius-md: 8px;
  --app-radius-sm: 4px;

  /* 导航栏与安全区域变量 */
  --app-bar-height: 54px;
  /* 状态栏避让高度 */
  --app-safe-area-top: max(env(safe-area-inset-top), var(--app-safe-area-top-offset, 16px));
  /* 顶部总占用高度 */
  --app-top-offset: calc(var(--app-bar-height) + var(--app-safe-area-top));
}

/* 
 * 移动端特定全局样式 
 */
html, body {
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
  background-color: var(--bg-color);
  color: var(--text-color);
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* IDE 风格卡片适配 */
.app-card {
  background-color: var(--card-bg) !important;
  backdrop-filter: blur(var(--ui-blur));
  border: 1px solid var(--border-color) !important;
  border-radius: var(--app-radius-lg) !important;
  overflow: hidden;
}

/* 安全区域适配辅助类 */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-top {
  padding-top: var(--app-safe-area-top);
}

/* Varlet 组件覆盖适配 */
.var-app-bar--fixed {
  padding-top: var(--app-safe-area-top) !important;
}

.has-fixed-app-bar {
  padding-top: var(--app-top-offset);
}

.app-view {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: var(--bg-color);
  box-sizing: border-box;
}

.app-view--safe-top {
  padding-top: var(--app-safe-area-top);
}