<template>
  <BaseDialog v-model="visible" title="æ–‡æœ¬æ›¿æ¢è§„åˆ™è¯´æ˜" width="75vw" class="regex-help-dialog">
    <div class="help-container">
      <el-tabs v-model="activeTab">
        <!-- Tab 1: å¿«é€Ÿå…¥é—¨ (é¢å‘æ™®é€šç”¨æˆ·) -->
        <el-tab-pane label="å¿«é€Ÿå…¥é—¨" name="intro">
          <div class="help-content">
            <div class="intro-card">
              <h3>ğŸ¤” è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
              <p>
                æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ª<strong>å…¨è‡ªåŠ¨çš„æ–‡å­—å¤„ç†æœºå™¨äºº</strong>ã€‚ åœ¨æ¶ˆæ¯å‘é€ç»™ AI
                ä¹‹å‰ï¼Œæˆ–è€… AI å›å¤æ˜¾ç¤ºåœ¨å±å¹•ä¸Šä¹‹å‰ï¼Œå®ƒå¯ä»¥å¸®ä½ <strong>è‡ªåŠ¨ä¿®æ”¹</strong>è¿™äº›æ–‡å­—ã€‚
              </p>
            </div>

            <!-- æ–°å¢ï¼šæ¨èè·¯å¾„å¼•å¯¼ -->
            <div class="recommendation-box">
              <h4>ğŸ” åˆ«æ€¥ï¼ä½ å¯èƒ½ä¸éœ€è¦æ­£åˆ™...</h4>
              <p>ä¸ºäº†è®©ä½ çš„ç”Ÿæ´»æ›´è½»æ¾ï¼Œæˆ‘ä»¬å·²ç»ä¸ºæ™ºèƒ½ä½“å¸¸ç”¨åŠŸèƒ½å‡†å¤‡äº†<strong>ä¸“ç”¨å·¥å…·</strong>ï¼š</p>
              <ul>
                <li>
                  æƒ³è¦<strong>æŠ˜å æ€è€ƒè¿‡ç¨‹</strong>ï¼Ÿ ğŸ‘‰ è¯·å»
                  <strong>é«˜çº§è®¾ç½® > æ€è€ƒå—è§„åˆ™é…ç½®</strong>
                </li>
                <li>
                  æƒ³è¦<strong>ä¿®æ”¹æ–‡å­—é¢œè‰²/æ ·å¼</strong>ï¼Ÿ ğŸ‘‰ è¯·å»
                  <strong>é«˜çº§è®¾ç½® > å›å¤æ ·å¼è‡ªå®šä¹‰</strong>
                </li>
                <li>
                  æƒ³è¦<strong>æ§åˆ¶æ—¶é—´æµé€</strong>ï¼Ÿ ğŸ‘‰ è¯·å»
                  <strong>é«˜çº§è®¾ç½® > è™šæ‹Ÿæ—¶é—´çº¿é…ç½®</strong>
                </li>
              </ul>
              <div class="rec-footer">åªæœ‰å½“ä¸Šè¿°å·¥å…·æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œæ‰æ¨èä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚</div>
            </div>

            <div class="tip-box">
              <el-icon><Lightbulb /></el-icon>
              <span
                ><strong>å°çªé—¨ï¼š</strong> ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Ÿç‚¹å‡»ç¼–è¾‘å™¨é‡Œçš„
                <strong>"é¢„åˆ¶è§„åˆ™"</strong> æ ï¼Œæˆ‘ä»¬å‡†å¤‡äº†å¾ˆå¤šå¸¸ç”¨æ¨¡æ¿ï¼Œç‚¹ä¸€ä¸‹å°±èƒ½ç”¨ï¼</span
              >
            </div>

            <h3>ğŸ’¡ æ­£åˆ™èƒ½åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="use-cases">
              <div class="use-case-item">
                <div class="uc-icon">ğŸ§¼</div>
                <div class="uc-content">
                  <h4>æ–‡æœ¬æ¸…æ´—</h4>
                  <p>
                    æ¯”å¦‚ï¼šå¼ºè¡Œåˆ é™¤ AI æ€»æ˜¯å–œæ¬¢å¸¦ä¸Šçš„å£ç™–ï¼Œæˆ–è€…å»é™¤
                    <code>(User)</code> è¿™æ ·çš„å‰ç¼€ã€‚
                  </p>
                </div>
              </div>
              <div class="use-case-item">
                <div class="uc-icon">ğŸ”§</div>
                <div class="uc-content">
                  <h4>ç‰¹å®šæ ¼å¼çº é”™</h4>
                  <p>
                    æ¯”å¦‚ï¼šæ¨¡å‹æ€»æ˜¯æŠŠæŸä¸ªè§’è‰²çš„åå­—å†™é”™ï¼ˆå¦‚æŠŠ "Saber" å†™æˆ
                    "Sabre"ï¼‰ï¼Œå¯ä»¥ç”¨æ­£åˆ™æ‰¹é‡ä¿®å›æ¥ã€‚
                  </p>
                </div>
              </div>
              <div class="use-case-item">
                <div class="uc-icon">âœ‚ï¸</div>
                <div class="uc-content">
                  <h4>èŠ‚çœæµé‡ (Token)</h4>
                  <p>æ¯”å¦‚ï¼šåœ¨å‘é€ç»™ AI ä¹‹å‰ï¼Œè‡ªåŠ¨åˆ é™¤å¤šä½™çš„ç©ºè¡Œæˆ– HTML æ ‡ç­¾ã€‚</p>
                </div>
              </div>
              <div class="use-case-item">
                <div class="uc-icon">ğŸ”—</div>
                <div class="uc-content">
                  <h4>å¤æ‚æ ¼å¼è½¬æ¢</h4>
                  <p>æ¯”å¦‚ï¼šæŠŠç‰¹æ®Šçš„ <code>[img:123]</code> æ ¼å¼è½¬æ¢ä¸ºå®é™…çš„å›¾ç‰‡æ ‡ç­¾ã€‚</p>
                </div>
              </div>
            </div>
          </div>
        </el-tab-pane>

        <!-- Tab 2: æ ¸å¿ƒæ¦‚å¿µ (é¢å‘è¿›é˜¶ç”¨æˆ·) -->
        <el-tab-pane label="æ ¸å¿ƒæ¦‚å¿µ" name="concepts">
          <div class="help-content">
            <h3>âš™ï¸ ä¸¤ä¸ªå…³é”®é˜¶æ®µ</h3>
            <p>è¿™æ˜¯æœ€é‡è¦çš„æ¦‚å¿µï¼Œå†³å®šäº†è§„åˆ™æ˜¯åœ¨"å“ªé‡Œ"ç”Ÿæ•ˆçš„ã€‚</p>

            <div class="concept-comparison">
              <div class="concept-card render">
                <h4>ğŸ¨ æ¸²æŸ“å±‚ (Render)</h4>
                <div class="concept-tag">åªæ”¹æ˜¾ç¤ºï¼Œä¸æ”¹è®°å¿†</div>
                <p><strong>æ¯”å–»ï¼š</strong> å°±åƒç»™ç…§ç‰‡åŠ æ»¤é•œã€‚</p>
                <ul>
                  <li><strong>ä½œç”¨ï¼š</strong> ä¿®æ”¹æ¶ˆæ¯åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºæ•ˆæœã€‚</li>
                  <li><strong>å½±å“ï¼š</strong> <strong>ä¸ä¼š</strong> æ”¹å˜å‘é€ç»™ AI çš„å®é™…å†…å®¹ã€‚</li>
                  <li><strong>åœºæ™¯ï¼š</strong> æŠ˜å æ€è€ƒå—ã€Markdown æ¸²æŸ“ã€æ•æ„Ÿè¯é®è”½ã€‚</li>
                </ul>
              </div>

              <div class="concept-card request">
                <h4>ğŸš€ è¯·æ±‚å±‚ (Request)</h4>
                <div class="concept-tag warning">ä¿®æ”¹è®°å¿†ï¼Œæ°¸ä¹…ç”Ÿæ•ˆ</div>
                <p><strong>æ¯”å–»ï¼š</strong> å°±åƒåœ¨ PS é‡Œä¿®å›¾ã€‚</p>
                <ul>
                  <li><strong>ä½œç”¨ï¼š</strong> ä¿®æ”¹å‘é€ç»™ AI çš„ Prompt (æç¤ºè¯)ã€‚</li>
                  <li>
                    <strong>å½±å“ï¼š</strong> AI ä¼šæ¥æ”¶åˆ°ä¿®æ”¹åçš„å†…å®¹ï¼Œ<strong>ä¼š</strong> å½±å“ AI
                    çš„è®°å¿†å’Œåç»­å›å¤ã€‚
                  </li>
                  <li>
                    <strong>åœºæ™¯ï¼š</strong> åˆ é™¤ HTML æ ‡ç­¾ä»¥èŠ‚çœ Tokenã€æ³¨å…¥ç‰¹å®šçš„ Prompt å‰ç¼€ã€‚
                  </li>
                </ul>
              </div>
            </div>

            <h3>ğŸ“Š ç»“æ„å±‚çº§</h3>
            <ul>
              <li>
                <strong>é¢„è®¾ (Preset)</strong>:
                è§„åˆ™çš„æ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥åˆ›å»ºå¤šä¸ªé¢„è®¾ï¼ˆä¾‹å¦‚"é€šç”¨æ¸…æ´—"ã€"çŒ«å¨˜æ¨¡å¼"ï¼‰ï¼Œå¹¶é€šè¿‡å¼€å…³ä¸€é”®å¯ç”¨/ç¦ç”¨æ•´ç»„è§„åˆ™ã€‚
              </li>
              <li>
                <strong>è§„åˆ™ (Rule)</strong>:
                å…·ä½“çš„æ‰§è¡Œå•å…ƒã€‚åŒ…å«"æ‰¾ä»€ä¹ˆï¼ˆæ­£åˆ™ï¼‰"å’Œ"æ”¹æˆä»€ä¹ˆï¼ˆæ›¿æ¢ï¼‰"ã€‚
              </li>
              <li><strong>ä¼˜å…ˆçº§</strong>: æ•°å€¼è¶Šå°ï¼Œè¶Šå…ˆæ‰§è¡Œã€‚é»˜è®¤æ˜¯ 100ã€‚</li>
            </ul>
          </div>
        </el-tab-pane>

        <!-- Tab 3: å¯¼å…¥/å¯¼å‡º -->
        <el-tab-pane label="å¯¼å…¥/å¯¼å‡º" name="import-export">
          <div class="help-content">
            <h3>ğŸ’¾ å¤‡ä»½ä¸åˆ†äº«</h3>
            <p>æ–¹ä¾¿æ‚¨å¤‡ä»½è§„åˆ™ï¼Œæˆ–å°†é…ç½®åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·ã€‚</p>

            <div class="use-cases">
              <div class="use-case-item">
                <div class="uc-icon">ğŸ“¥</div>
                <div class="uc-content">
                  <h4>å¯¼å…¥ (Import)</h4>
                  <p>ç‚¹å‡»é¡¶éƒ¨ <strong>"å¯¼å…¥"</strong> æŒ‰é’®ã€‚</p>
                  <ul>
                    <li>æ”¯æŒ <strong>AIO Hub</strong> æ ‡å‡†çš„ JSON é…ç½®æ–‡ä»¶ã€‚</li>
                    <li>æ”¯æŒ <strong>SillyTavern (é…’é¦†)</strong> æ­£åˆ™è„šæœ¬ã€‚</li>
                  </ul>
                </div>
              </div>

              <div class="use-case-item">
                <div class="uc-icon">ğŸ“¤</div>
                <div class="uc-content">
                  <h4>å¯¼å‡º (Export)</h4>
                  <ul>
                    <li><strong>å¯¼å‡ºå…¨éƒ¨</strong>: å¤‡ä»½å½“å‰æ‰€æœ‰é¢„è®¾ã€‚</li>
                    <li><strong>å•é¡¹å¯¼å‡º</strong>: ç‚¹å‡»é¢„è®¾æ çš„å¯¼å‡ºå›¾æ ‡ï¼Œä»…å¯¼å‡ºè¯¥é¢„è®¾ã€‚</li>
                  </ul>
                </div>
              </div>
            </div>

            <h3>ğŸ“‹ å‰ªè´´æ¿æ“ä½œ (Copy & Paste)</h3>
            <p>åƒå¤åˆ¶æ–‡å­—ä¸€æ ·å¤åˆ¶è§„åˆ™ï¼Œå¿«é€Ÿåœ¨ä¸åŒé¢„è®¾é—´è¿ç§»ã€‚</p>

            <div class="code-block">
              <div class="code-line">
                <span class="label">å¤åˆ¶:</span> ç‚¹å‡»é¢„è®¾æˆ–è§„åˆ™æ—çš„
                <strong>å¤åˆ¶å›¾æ ‡</strong>ï¼Œé…ç½®ä»£ç å³åˆ»å­˜å…¥å‰ªè´´æ¿ã€‚
              </div>
              <div class="code-line">
                <span class="label">ç²˜è´´:</span> ç‚¹å‡»é¡¶éƒ¨çš„
                <strong>"ç²˜è´´é¢„è®¾"</strong>ï¼Œæˆ–åœ¨è§„åˆ™åˆ—è¡¨ç‚¹å‡» <strong>"ç²˜è´´è§„åˆ™"</strong>ã€‚
              </div>
              <div class="code-line">
                <span class="label">åˆ†äº«:</span> å¤åˆ¶å‡ºæ¥çš„ JSON
                ä»£ç å¯ä»¥ç›´æ¥å‘é€ç»™æœ‹å‹ï¼Œä»–ä»¬å¤åˆ¶åå³å¯ç›´æ¥ç²˜è´´ä½¿ç”¨ï¼
              </div>
            </div>
          </div>
        </el-tab-pane>

        <!-- Tab 4: é«˜çº§åŠŸèƒ½ (é¢å‘å¼€å‘è€…) -->
        <el-tab-pane label="é«˜çº§åŠŸèƒ½" name="advanced">
          <div class="help-content">
            <h3>ğŸ§™â€â™‚ï¸ é»‘é­”æ³•ï¼šUI æ³¨å…¥ä¸äº¤äº’</h3>
            <p>
              è¿™æ˜¯æ­£åˆ™æœ€ç¡¬æ ¸çš„ç©æ³•ã€‚ä½ å¯ä»¥åˆ©ç”¨æ­£åˆ™å°†ç‰¹å®šæ–‡æœ¬æ›¿æ¢ä¸º
              <strong>HTML/CSS/JS</strong> ä»£ç ï¼Œåœ¨èŠå¤©çª—å£é‡Œ"æ‰‹æ“"å‡ºå¤æ‚çš„äº¤äº’ç•Œé¢ã€‚
            </p>
            <div class="code-block">
              <div class="code-line">
                <span class="label">åŸç†ï¼š</span> åˆ©ç”¨ <code>markdownOnly</code> (ä»…æ¸²æŸ“å±‚)
                æ³¨å…¥æ ·å¼ï¼Œåˆ©ç”¨ <code>promptOnly</code> (ä»…è¯·æ±‚å±‚) æ¸…æ´—æ ‡ç­¾ã€‚
              </div>
              <div class="code-line">
                <span class="label">æ¡ˆä¾‹ï¼š</span> <strong>ä¸‡ç•Œç»ˆç«¯ç³»ç»Ÿ</strong>
              </div>
              <div class="code-line" v-pre>
                <span class="label">1.</span> <strong>CSS æ³¨å…¥ï¼š</strong> æŠŠ
                <code>&lt;link...&gt;</code> æ›¿æ¢ä¸ºå‡ ç™¾è¡Œçš„
                <code>&lt;style&gt;...&lt;/style&gt;</code>ï¼Œå®ç°èµ›åšæœ‹å…‹é£æ ¼ç•Œé¢ã€‚
              </div>
              <div class="code-line" v-pre>
                <span class="label">2.</span> <strong>JS æ³¨å…¥ï¼š</strong> æ’å…¥
                <code>&lt;script&gt;</code> å®ç° Tab åˆ‡æ¢ã€çŠ¶æ€æ åŠ¨æ€æ›´æ–°ã€‚
              </div>
              <div class="code-line">
                <span class="label">3.</span> <strong>çœæµæ¸…æ´—ï¼š</strong> è®¾ç½®ä¸€æ¡
                <code>promptOnly</code> è§„åˆ™ï¼Œåœ¨å‘é€ç»™ AI å‰æŠŠè¿™äº›èŠ±å“¨çš„ HTML
                æ ‡ç­¾å…¨éƒ¨æ´—æ‰ï¼Œæ—¢ä¿ç•™äº†è§†è§‰æ•ˆæœï¼ŒåˆèŠ‚çœäº† Tokenã€‚
              </div>
            </div>

            <h3>ğŸ§© å®æ›¿æ¢ (åŠ¨æ€å˜é‡)</h3>
            <p>
              æ”¯æŒåœ¨æ­£åˆ™è¡¨è¾¾å¼å’Œæ›¿æ¢å†…å®¹ä¸­ä½¿ç”¨ <code v-pre>{{ å˜é‡å }}</code
              >ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¡«å…¥å½“å‰ç¯å¢ƒçš„å€¼ã€‚
            </p>

            <table class="macro-table">
              <thead>
                <tr>
                  <th>å®å˜é‡</th>
                  <th>è¯´æ˜</th>
                  <th>ç¤ºä¾‹</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <code v-pre>{{ user }}</code>
                  </td>
                  <td>å½“å‰ç”¨æˆ·å</td>
                  <td>"User"</td>
                </tr>
                <tr>
                  <td>
                    <code v-pre>{{ char }}</code>
                  </td>
                  <td>å½“å‰è§’è‰²å</td>
                  <td>"Alice"</td>
                </tr>
              </tbody>
            </table>

            <h4>æ›¿æ¢æ¨¡å¼ (Substitution Mode)</h4>
            <p>å½“ä½ çš„ç”¨æˆ·ååŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ <code>C.C.</code>ï¼‰æ—¶ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ</p>
            <ul>
              <li><strong>None</strong>: ä¸ä½¿ç”¨å®ã€‚</li>
              <li>
                <strong>Raw (åŸæ ·)</strong>: ç›´æ¥æ›¿æ¢ã€‚<code v-pre>{{ user }}</code> ->
                <code>C.C.</code> (ç‚¹å·åœ¨æ­£åˆ™ä¸­ä¼šåŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå¯èƒ½ä¸å®‰å…¨)ã€‚
              </li>
              <li>
                <strong>Escaped (è½¬ä¹‰)</strong>:
                <el-tag size="small" type="success">æ¨è</el-tag> è‡ªåŠ¨è½¬ä¹‰æ­£åˆ™ç‰¹æ®Šå­—ç¬¦ã€‚<code
                  v-pre
                  >{{ user }}</code
                >
                -> <code>C\.C\.</code> (ç²¾ç¡®åŒ¹é…)ã€‚
              </li>
            </ul>

            <h3>âœ‚ï¸ åå¤„ç† (Trim Strings)</h3>
            <p>
              <strong>åœºæ™¯ï¼š</strong> ä½ ç”¨æ­£åˆ™æå–äº†
              <code>(æ€è€ƒä¸­ï¼š...)</code> é‡Œçš„å†…å®¹ï¼Œä½†æƒ³æŠŠä¸éœ€è¦çš„çœç•¥å·å»æ‰ã€‚
            </p>
            <div class="code-block">
              <div class="code-line">
                <span class="label">åŸæ–‡ï¼š</span> (æ€è€ƒä¸­ï¼š...æˆ‘åœ¨æƒ³ä»€ä¹ˆ...)
              </div>
              <div class="code-line">
                <span class="label">æ­£åˆ™ï¼š</span> <code>/\(æ€è€ƒä¸­ï¼š(.*?)\)/</code> (æå–æ‹¬å·å†…å®¹)
              </div>
              <div class="code-line">
                <span class="label">Trimï¼š</span> æ·»åŠ  <code>...</code> åˆ°ç§»é™¤åˆ—è¡¨
              </div>
              <div class="code-line"><span class="label">ç»“æœï¼š</span> æˆ‘åœ¨æƒ³ä»€ä¹ˆ</div>
            </div>
          </div>
        </el-tab-pane>
      </el-tabs>
    </div>
    <template #footer>
      <el-button @click="visible = false">å…³é—­</el-button>
    </template>
  </BaseDialog>
</template>

<script setup lang="ts">
import { computed, ref } from "vue";
import { Lightbulb } from "lucide-vue-next";

const props = defineProps<{
  modelValue: boolean;
}>();

const emit = defineEmits<{
  (e: "update:modelValue", value: boolean): void;
}>();

const visible = computed({
  get: () => props.modelValue,
  set: (val) => emit("update:modelValue", val),
});

const activeTab = ref("intro");
</script>

<style scoped>
.regex-help-dialog :deep(.el-dialog__body) {
  padding-top: 10px;
  padding-bottom: 20px;
}

.help-container {
  height: 60vh;
  display: flex;
  flex-direction: column;
}

/* å¼ºåˆ¶ Tabs æ’‘æ»¡å®¹å™¨é«˜åº¦ */
.help-container :deep(.el-tabs) {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.help-container :deep(.el-tabs__content) {
  flex: 1;
  overflow: hidden;
  padding: 0;
}

.help-container :deep(.el-tab-pane) {
  height: 100%;
}

.help-content {
  height: 100%;
  overflow-y: auto;
  padding-right: 8px;
  color: var(--text-color);
  line-height: 1.6;
}

/* é€šç”¨æ’ç‰ˆ */
h3 {
  font-size: 18px;
  margin: 20px 0 12px;
  color: var(--text-color-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}

h3:first-child {
  margin-top: 0;
}

h4 {
  font-size: 15px;
  margin: 12px 0 8px;
  color: var(--text-color-primary);
}

p {
  margin-bottom: 12px;
  color: var(--text-color-secondary);
}

ul {
  padding-left: 20px;
  margin-bottom: 16px;
  color: var(--text-color-secondary);
}

li {
  margin-bottom: 6px;
}

/* å¿«é€Ÿå…¥é—¨ Tab */
.intro-card {
  background: var(--bg-color-soft);
  padding: 16px;
  border-radius: 8px;
  margin-bottom: 24px;
  border: 1px solid var(--border-color);
}

.use-cases {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.use-case-item {
  display: flex;
  gap: 12px;
  padding: 12px;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  transition: transform 0.2s;
}

.use-case-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--el-box-shadow-light);
}

.uc-icon {
  font-size: 24px;
  background: var(--bg-color-soft);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
}

.uc-content h4 {
  margin: 0 0 4px 0;
  font-size: 14px;
}

.uc-content p {
  margin: 0;
  font-size: 13px;
  line-height: 1.4;
}

.tip-box {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  background-color: var(--el-color-primary-light-9);
  color: var(--el-color-primary-dark-2);
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 14px;
}

/* æ¨èå¼•å¯¼æ¡† */
.recommendation-box {
  background: var(--el-color-warning-light-9);
  border: 1px solid var(--el-color-warning-light-5);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.recommendation-box h4 {
  margin: 0 0 12px 0;
  color: var(--el-color-warning-dark-2);
  display: flex;
  align-items: center;
  gap: 8px;
}

.recommendation-box p {
  margin-bottom: 8px;
  color: var(--text-color-primary);
  font-size: 14px;
}

.recommendation-box ul {
  margin: 0 0 12px 0;
  padding-left: 20px;
  color: var(--text-color-regular);
}

.recommendation-box li {
  margin-bottom: 6px;
  font-size: 13px;
}

.recommendation-box .rec-footer {
  font-size: 12px;
  color: var(--text-color-secondary);
  border-top: 1px dashed var(--el-color-warning-light-5);
  padding-top: 8px;
}

/* æ ¸å¿ƒæ¦‚å¿µ Tab */
.concept-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 20px;
}

@media (max-width: 768px) {
  .concept-comparison {
    grid-template-columns: 1fr;
  }
}

.concept-card {
  padding: 16px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  background: var(--card-bg);
  position: relative;
  overflow: auto;
}

.concept-card.render {
  border-left: 4px solid var(--el-color-success);
}

.concept-card.request {
  border-left: 4px solid var(--el-color-warning);
}

.concept-tag {
  display: inline-block;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 4px;
  background: var(--bg-color-soft);
  color: var(--text-color-secondary);
  margin-bottom: 12px;
}

.concept-tag.warning {
  background: var(--el-color-warning-light-9);
  color: var(--el-color-warning);
}

/* é«˜çº§åŠŸèƒ½ Tab */
.macro-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
  font-size: 14px;
}

.macro-table th,
.macro-table td {
  border: 1px solid var(--border-color);
  padding: 8px 12px;
  text-align: left;
}

.macro-table th {
  background: var(--bg-color-soft);
  font-weight: 500;
}

.code-block {
  background: var(--bg-color-soft);
  padding: 12px;
  border-radius: 6px;
  font-family: monospace;
  font-size: 13px;
  border: 1px solid var(--border-color);
}

.code-line {
  margin-bottom: 4px;
}

.code-line .label {
  color: var(--text-color-secondary);
  display: inline-block;
  width: 50px;
}

code {
  background-color: var(--bg-color-soft);
  padding: 2px 4px;
  border-radius: 4px;
  font-family: monospace;
  color: var(--primary-color);
  font-size: 0.9em;
}
</style>
