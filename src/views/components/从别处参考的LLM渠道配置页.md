# cherry studio æ¸ é“é…ç½®é¡µæ¶æ„è°ƒæŸ¥æŠ¥å‘Š

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

### é¡µé¢ç»„ä»¶
- [`index.tsx`](src/renderer/src/pages/settings/ProviderSettings/index.tsx:1) - æ¸ é“åˆ—è¡¨ä¸»é¡µé¢
- [`ProviderSetting.tsx`](src/renderer/src/pages/settings/ProviderSettings/ProviderSetting.tsx:1) - å•ä¸ªæ¸ é“é…ç½®é¡µ
- [`ModelList.tsx`](src/renderer/src/pages/settings/ProviderSettings/ModelList.tsx:1) - æ¨¡å‹åˆ—è¡¨ç»„ä»¶
- [`AddProviderPopup.tsx`](src/renderer/src/pages/settings/ProviderSettings/AddProviderPopup.tsx:1) - æ·»åŠ æ¸ é“å¼¹çª—

### æ•°æ®å±‚
- [`store/llm.ts`](src/renderer/src/store/llm.ts:1) - ReduxçŠ¶æ€ç®¡ç†ï¼ˆ54ä¸ªé¢„è®¾Providerï¼‰
- [`hooks/useProvider.ts`](src/renderer/src/hooks/useProvider.ts:1) - Provideræ“ä½œhooks
- [`config/providers.ts`](src/renderer/src/config/providers.ts:1) - Providerå…ƒæ•°æ®é…ç½®

### ç±»å‹å®šä¹‰
- [`types/index.ts`](src/renderer/src/types/index.ts:157) - Provideræ•°æ®ç»“æ„

## ğŸ—ï¸ æ•°æ®ç»“æ„

```typescript
Provider {
  id: string                    // å”¯ä¸€æ ‡è¯†
  type: ProviderType           // openai | anthropic | gemini | azure-openai | vertexai | mistral
  name: string                 // æ˜¾ç¤ºåç§°
  apiKey: string              // APIå¯†é’¥ï¼ˆæ”¯æŒå¤šä¸ªï¼Œé€—å·åˆ†éš”ï¼‰
  apiHost: string             // APIåœ°å€
  apiVersion?: string         // APIç‰ˆæœ¬ï¼ˆAzureï¼‰
  models: Model[]             // æ¨¡å‹åˆ—è¡¨
  enabled: boolean            // æ˜¯å¦å¯ç”¨
  isSystem: boolean           // æ˜¯å¦ç³»ç»Ÿé¢„è®¾
  isAuthed?: boolean          // OAuthè®¤è¯çŠ¶æ€
  extra_headers?: {}          // è‡ªå®šä¹‰è¯·æ±‚å¤´
  isNotSupportArrayContent?: boolean
}
```

## ğŸ¨ UIç»„ä»¶ç»“æ„

```
ProvidersList (ä¸»å®¹å™¨)
â”œâ”€â”€ å·¦ä¾§é¢æ¿
â”‚   â”œâ”€â”€ æœç´¢æ¡†ï¼ˆæ”¯æŒæŒ‰Providerå’ŒModelæœç´¢ï¼‰
â”‚   â”œâ”€â”€ Provideråˆ—è¡¨ï¼ˆå¯æ‹–æ‹½æ’åºï¼‰
â”‚   â”‚   â”œâ”€â”€ Logo + åç§° + ON/OFFæ ‡ç­¾
â”‚   â”‚   â””â”€â”€ å³é”®èœå•ï¼ˆç¼–è¾‘/å¤‡æ³¨/åˆ é™¤ï¼‰
â”‚   â””â”€â”€ æ·»åŠ æŒ‰é’®
â””â”€â”€ å³ä¾§é¢æ¿ - ProviderSetting
    â”œâ”€â”€ Provideræ ‡é¢˜ + å¯ç”¨å¼€å…³
    â”œâ”€â”€ OAuthè®¤è¯ï¼ˆéƒ¨åˆ†Providerï¼‰
    â”œâ”€â”€ API Keyé…ç½® + è¿é€šæ€§æ£€æŸ¥
    â”œâ”€â”€ API Hosté…ç½® + é‡ç½®æŒ‰é’®
    â”œâ”€â”€ API Versionï¼ˆAzureï¼‰
    â””â”€â”€ æ¨¡å‹åˆ—è¡¨ - ModelList
        â”œâ”€â”€ æŒ‰Groupåˆ†ç»„æŠ˜å 
        â”œâ”€â”€ æ¨¡å‹å¥åº·æ£€æŸ¥
        â””â”€â”€ ç®¡ç†/æ·»åŠ æŒ‰é’®
```

## âš™ï¸ æ ¸å¿ƒåŠŸèƒ½

### 1. Providerç®¡ç†
- âœ… æ·»åŠ è‡ªå®šä¹‰Providerï¼ˆæ”¯æŒ5ç§ç±»å‹ï¼‰
- âœ… ç¼–è¾‘Providerï¼ˆåç§°/ç±»å‹/Logoï¼‰
- âœ… åˆ é™¤Providerï¼ˆç³»ç»Ÿé¢„è®¾ä¸å¯åˆ ï¼‰
- âœ… æ‹–æ‹½æ’åº
- âœ… å¯ç”¨/ç¦ç”¨åˆ‡æ¢
- âœ… è‡ªå®šä¹‰Logoä¸Šä¼ ï¼ˆæ”¯æŒå‹ç¼©ï¼‰

### 2. APIé…ç½®
- âœ… API Keyç®¡ç†ï¼ˆæ”¯æŒå¤šKeyï¼Œé€—å·åˆ†éš”ï¼‰
- âœ… API Keyåˆ—è¡¨ç®¡ç†å¼¹çª—
- âœ… API Hosté…ç½®ï¼ˆæ”¯æŒé‡ç½®ä¸ºé»˜è®¤ï¼‰
- âœ… è‡ªå®šä¹‰Headersé…ç½®
- âœ… å•Keyè¿é€šæ€§æ£€æŸ¥
- âœ… æ‰¹é‡å¥åº·æ£€æŸ¥ï¼ˆæ”¯æŒå¹¶å‘/ä¸²è¡Œï¼‰

### 3. æ¨¡å‹ç®¡ç†
- âœ… æŒ‰Groupåˆ†ç»„å±•ç¤º
- âœ… æ·»åŠ /åˆ é™¤æ¨¡å‹
- âœ… ç¼–è¾‘æ¨¡å‹å‚æ•°
- âœ… æ‰¹é‡ç®¡ç†æ¨¡å‹
- âœ… å¥åº·æ£€æŸ¥ï¼ˆæ˜¾ç¤ºå»¶è¿Ÿ/çŠ¶æ€ï¼‰
- âœ… æœç´¢è¿‡æ»¤

### 4. ç‰¹æ®ŠProvideræ”¯æŒ
- âœ… OAuthè®¤è¯ï¼ˆSilicon/AiHubMix/PPIO/TokenFluxï¼‰
- âœ… LM Studioé…ç½®
- âœ… GPUStacké…ç½®
- âœ… VertexAIæœåŠ¡è´¦å·é…ç½®
- âœ… Github Copilotè®¤è¯
- âœ… Azure OpenAIç‰ˆæœ¬é…ç½®

### 5. URL Schemaé›†æˆ
- âœ… æ”¯æŒä»URLå¯¼å…¥API Key
- âœ… Base64è§£ç å‚æ•°
- âœ… è‡ªåŠ¨æ·»åŠ /æ›´æ–°Provider

## ğŸ“Š é¢„è®¾Providerç»Ÿè®¡

å…±54ä¸ªç³»ç»Ÿé¢„è®¾Providerï¼ŒåŒ…æ‹¬ï¼š
- ğŸ‡¨ğŸ‡³ å›½å†…ï¼šSiliconã€DeepSeekã€æ™ºè°±ã€æœˆä¹‹æš—é¢ã€ç™¾å·ã€é˜¿é‡Œäº‘ç­‰20+
- ğŸŒ å›½å¤–ï¼šOpenAIã€Anthropicã€Geminiã€Azureã€Groqç­‰20+
- ğŸ  æœ¬åœ°ï¼šOllamaã€LM Studioã€GPUStackã€New API

## ğŸ”§ æŠ€æœ¯è¦ç‚¹

1. **çŠ¶æ€ç®¡ç†**ï¼šRedux Toolkitç®¡ç†ProviderçŠ¶æ€
2. **æ‹–æ‹½æ’åº**ï¼šä½¿ç”¨`@hello-pangea/dnd`
3. **Logoå­˜å‚¨**ï¼šIndexedDBå­˜å‚¨è‡ªå®šä¹‰Logo
4. **å¥åº·æ£€æŸ¥**ï¼šæ”¯æŒå¹¶å‘/ä¸²è¡Œæ¨¡å¼ï¼Œæ˜¾ç¤ºå»¶è¿Ÿå’Œå¤šKeyç»“æœ
5. **å›½é™…åŒ–**ï¼šå®Œæ•´çš„i18næ”¯æŒ
6. **ä¸»é¢˜é€‚é…**ï¼šæ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜

## ğŸ¯ å…³é”®äº¤äº’æµç¨‹

### æ·»åŠ Provider
1. ç‚¹å‡»æ·»åŠ æŒ‰é’® â†’ AddProviderPopup
2. è¾“å…¥åç§°ã€é€‰æ‹©ç±»å‹ã€ä¸Šä¼ Logo
3. åˆ›å»ºProviderå¯¹è±¡ â†’ æ·»åŠ åˆ°Store
4. è·³è½¬åˆ°æ–°Provideré…ç½®é¡µ

### APIè¿é€šæ€§æ£€æŸ¥
1. ç‚¹å‡»æ£€æŸ¥æŒ‰é’® â†’ SelectProviderModelPopupé€‰æ‹©æ¨¡å‹
2. è°ƒç”¨checkApi â†’ å‘é€æµ‹è¯•è¯·æ±‚
3. æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥çŠ¶æ€ + é”™è¯¯ä¿¡æ¯

### å¥åº·æ£€æŸ¥
1. ç‚¹å‡»å¥åº·å›¾æ ‡ â†’ HealthCheckPopupé…ç½®å‚æ•°
2. éå†æ‰€æœ‰æ¨¡å‹ â†’ å¹¶å‘/ä¸²è¡Œè°ƒç”¨
3. å®æ—¶æ›´æ–°æ¯ä¸ªæ¨¡å‹çš„çŠ¶æ€ã€å»¶è¿Ÿã€å¤šKeyç»“æœ
4. æ˜¾ç¤ºæ±‡æ€»ç»Ÿè®¡

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ¶æ„æ¸…æ™°çš„æ¸ é“é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒå¤šProviderã€å¤šæ¨¡å‹ã€å¤šAPI Keyçš„çµæ´»ç®¡ç†ã€‚


# æ¸ é“é…ç½®é¡µ UI å¸ƒå±€è®¾è®¡æ–‡æ¡£

## ğŸ¨ æ•´ä½“å¸ƒå±€æ¶æ„

### åŒæ å¼å¸ƒå±€ (Two-Column Layout)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Navbar (å¯¼èˆªæ )                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Provider List     â”‚      Provider Setting Panel          â”‚
â”‚   (å·¦ä¾§åˆ—è¡¨)        â”‚      (å³ä¾§é…ç½®é¢æ¿)                   â”‚
â”‚   å›ºå®šå®½åº¦          â”‚      è‡ªé€‚åº”å®½åº¦                       â”‚
â”‚   å¯æ»šåŠ¨            â”‚      å¯æ»šåŠ¨                           â”‚
â”‚                     â”‚                                      â”‚
â”‚   [æœç´¢æ¡†]          â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â•‘ Provider Name        [ON/OFF] â•‘  â”‚
â”‚   â”‚ ğŸ”µ Silicon  â”‚   â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚   â”‚    [ON]     â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   API Key: [****************] [âœ“]   â”‚
â”‚   â”‚ ğŸŸ¢ OpenAI   â”‚â—„â”€â”€â”¼â”€â”€ API Host: [https://...]  [Reset] â”‚
â”‚   â”‚             â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   Models:                            â”‚
â”‚   â”‚ âšª Gemini   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚             â”‚   â”‚   â”‚ ğŸ“‚ GPT-4 Family          [-] â”‚   â”‚
â”‚   â”‚ ...         â”‚   â”‚   â”‚   â€¢ gpt-4o [ğŸŸ¢ 0.8s] [âš¡] [-]â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚   â€¢ gpt-4-turbo          â”‚   â”‚
â”‚   [â• æ·»åŠ ]          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ å·¦ä¾§ï¼šProvider åˆ—è¡¨é¢æ¿

### å¸ƒå±€ç»“æ„
```typescript
<ProviderListContainer>  // Styled Component
  height: calc(100vh - var(--navbar-height))
  width: calc(var(--settings-width) + 10px)  // å›ºå®šå®½åº¦
  border-right: 0.5px solid var(--color-border)
  
  â”œâ”€â”€ <AddButtonWrapper> (é¡¶éƒ¨æœç´¢)
  â”‚   height: 50px
  â”‚   padding: 10px 8px
  â”‚   â””â”€â”€ <Input>
  â”‚       - æœç´¢å›¾æ ‡åç¼€
  â”‚       - åœ†è§’: var(--list-item-border-radius)
  â”‚       - é«˜åº¦: 35px
  â”‚       - æ”¯æŒESCæ¸…ç©º
  â”‚
  â”œâ”€â”€ <Scrollbar> (å¯æ»šåŠ¨åŒºåŸŸ)
  â”‚   flex: 1
  â”‚   â””â”€â”€ <ProviderList>
  â”‚       padding: 8px
  â”‚       â””â”€â”€ <DragDropContext> (æ‹–æ‹½å®¹å™¨)
  â”‚           â””â”€â”€ <Droppable>
  â”‚               â””â”€â”€ <Draggable> Ã— N (æ¯ä¸ªProvider)
  â”‚                   â””â”€â”€ <ProviderListItem>
  â”‚                       - æ‹–æ‹½æ‰‹æŸ„
  â”‚                       - å³é”®èœå•
  â”‚
  â””â”€â”€ <AddButtonWrapper> (åº•éƒ¨æŒ‰é’®)
      height: 50px
      â””â”€â”€ <Button> æ·»åŠ Provider
```

### Provideråˆ—è¡¨é¡¹è®¾è®¡
```typescript
<ProviderListItem className={active ? 'active' : ''}>
  display: flex
  flex-direction: row
  align-items: center
  padding: 5px 10px
  border-radius: var(--list-item-border-radius)
  transition: all 0.2s ease-in-out
  
  â”œâ”€â”€ <ProviderLogo>  // Avatarç»„ä»¶
  â”‚   size: 25px
  â”‚   shape: circle (ç³»ç»Ÿ) | square (è‡ªå®šä¹‰)
  â”‚   border: 0.5px solid var(--color-border)
  â”‚
  â”œâ”€â”€ <ProviderItemName>
  â”‚   margin-left: 10px
  â”‚   font-weight: 500
  â”‚   text-nowrap
  â”‚
  â””â”€â”€ <Tag> (æ¡ä»¶æ¸²æŸ“)
      color: green
      border-radius: 16px
      margin-left: auto
      å†…å®¹: "ON"
```

### äº¤äº’çŠ¶æ€
- **é»˜è®¤**: é€æ˜èƒŒæ™¯
- **æ‚¬åœ**: `background: var(--color-background-soft)`
- **æ¿€æ´»**: 
  - `background: var(--color-background-soft)`
  - `border: 0.5px solid var(--color-border)`
  - `font-weight: bold`
- **æ‹–æ‹½ä¸­**: `cursor: grab`

### å³é”®èœå•
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸ ç¼–è¾‘             â”‚ (ä»…è‡ªå®šä¹‰Provider)
â”‚ ğŸ“ å¤‡æ³¨             â”‚ (æ‰€æœ‰Provider)
â”‚ ğŸ—‘ï¸ åˆ é™¤ (å±é™©)     â”‚ (éé¢„è®¾Provider)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ å³ä¾§ï¼šProvider é…ç½®é¢æ¿

### é¢æ¿ç»“æ„
```typescript
<SettingContainer>
  height: calc(100vh - var(--navbar-height))
  padding: 20px
  padding-bottom: 75px
  overflow-y: scroll
  background: var(--color-background) | transparent
  
  â”œâ”€â”€ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â”‚   â•‘ <SettingTitle>                   â•‘
  â”‚   â•‘   Provider Name [ğŸ”—] [âš™ï¸]  [ON/OFF] â•‘
  â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  â”‚
  â”œâ”€â”€ <Divider> margin: 10px 0
  â”‚
  â”œâ”€â”€ [æ¡ä»¶ç»„ä»¶]
  â”‚   â”œâ”€â”€ <ProviderOAuth> (OAuthè®¤è¯)
  â”‚   â”œâ”€â”€ <OpenAIAlert> (OpenAIæç¤º)
  â”‚   â”œâ”€â”€ <DMXAPISettings> (DMXAPIè®¾ç½®)
  â”‚   â”œâ”€â”€ <VertexAISettings> (VertexAIè®¾ç½®)
  â”‚   â”œâ”€â”€ <LMStudioSettings> (LMStudioè®¾ç½®)
  â”‚   â”œâ”€â”€ <GPUStackSettings> (GPUStackè®¾ç½®)
  â”‚   â””â”€â”€ <GithubCopilotSettings> (Copilotè®¾ç½®)
  â”‚
  â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚   <SettingSubtitle> API Key [âš™ï¸]
  â”‚   â”œâ”€â”€ <Space.Compact>
  â”‚   â”‚   â”œâ”€â”€ <Input.Password>
  â”‚   â”‚   â”‚   - prefix: é”™è¯¯æŒ‡ç¤ºå™¨
  â”‚   â”‚   â”‚   - é˜²æŠ–æ›´æ–°: 150ms
  â”‚   â”‚   â””â”€â”€ <Button> æ£€æŸ¥è¿é€šæ€§
  â”‚   â”‚       çŠ¶æ€: é»˜è®¤ | åŠ è½½ | æˆåŠŸ(ç»¿è‰²âœ“) | é”™è¯¯
  â”‚   â””â”€â”€ <SettingHelpTextRow>
  â”‚       è·å–API Keyé“¾æ¥ | æç¤ºæ–‡æœ¬
  â”‚
  â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚   <SettingSubtitle> API Host [âš™ï¸]
  â”‚   â”œâ”€â”€ <Space.Compact>
  â”‚   â”‚   â”œâ”€â”€ <Input>
  â”‚   â”‚   â”‚   - onBluræ›´æ–°
  â”‚   â”‚   â””â”€â”€ <Button danger> é‡ç½® (æ¡ä»¶æ˜¾ç¤º)
  â”‚   â””â”€â”€ <SettingHelpTextRow>
  â”‚       é¢„è§ˆURL | æç¤ºæ–‡æœ¬
  â”‚
  â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚   [Azure OpenAI]
  â”‚   <SettingSubtitle> API Version
  â”‚   â””â”€â”€ <Input> placeholder="2024-xx-xx-preview"
  â”‚
  â””â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      <SettingSubtitle> Models
      â”œâ”€â”€ <ModelListSearchBar> (æ¡ä»¶æ˜¾ç¤º)
      â”œâ”€â”€ <Button> å¥åº·æ£€æŸ¥å›¾æ ‡ (åŠ¨ç”»)
      â””â”€â”€ <ModelList> æ¨¡å‹åˆ—è¡¨
```

### æ ‡é¢˜æ å¸ƒå±€
```typescript
<SettingTitle>
  display: flex
  justify-content: space-between
  align-items: center
  
  â”œâ”€â”€ <Flex gap={5}>
  â”‚   â”œâ”€â”€ <ProviderName>
  â”‚   â”‚   font-size: 14px
  â”‚   â”‚   font-weight: 500
  â”‚   â”œâ”€â”€ <Link> å®˜ç½‘å›¾æ ‡ (æ¡ä»¶)
  â”‚   â”‚   icon: <SquareArrowOutUpRight size={14} />
  â”‚   â””â”€â”€ <Button> é«˜çº§è®¾ç½® (è‡ªå®šä¹‰Provider)
  â”‚       icon: <Settings2 size={14} />
  â”‚
  â””â”€â”€ <Switch>
      å¯ç”¨/ç¦ç”¨åˆ‡æ¢
      - å¯ç”¨æ—¶è‡ªåŠ¨ç§»åˆ°åˆ—è¡¨é¡¶éƒ¨
```

### API Key è¾“å…¥ç»„
```typescript
<Space.Compact>
  width: 100%
  margin-top: 5px
  
  â”œâ”€â”€ <Input.Password>
  â”‚   - å®æ—¶é˜²æŠ–æ›´æ–° (150ms)
  â”‚   - è‡ªåŠ¨èšç„¦ (å½“å¯ç”¨ä¸”æ— Keyæ—¶)
  â”‚   - prefix: è¿é€šæ€§é”™è¯¯æŒ‡ç¤ºå™¨
  â”‚   - spellCheck: false
  â”‚
  â””â”€â”€ <Button>
      type: primary (æˆåŠŸ) | default
      ghost: true (æˆåŠŸæ—¶)
      disabled: !apiHost || checking
      
      å›¾æ ‡çŠ¶æ€:
      - æ£€æŸ¥ä¸­: <LoadingOutlined spin />
      - æˆåŠŸ: <CheckOutlined /> (ç»¿è‰²)
      - é»˜è®¤: "æ£€æŸ¥"æ–‡æœ¬
```

---

## ğŸ“¦ æ¨¡å‹åˆ—è¡¨ç»„ä»¶

### æ•´ä½“ç»“æ„
```typescript
<ModelList>
  â”œâ”€â”€ <Flex gap={12} vertical>
  â”‚   â””â”€â”€ <CustomCollapseWrapper> Ã— N (æ¯ä¸ªGroup)
  â”‚       â””â”€â”€ <CustomCollapse>
  â”‚           defaultActiveKey: i <= 5 ? ['1'] : []
  â”‚           
  â”‚           â”œâ”€â”€ label: <Flex>
  â”‚           â”‚   â””â”€â”€ Groupåç§° (åŠ ç²—)
  â”‚           â”‚
  â”‚           â”œâ”€â”€ extra: <Button>
  â”‚           â”‚   icon: <MinusOutlined />
  â”‚           â”‚   tooltip: "åˆ é™¤æ•´ç»„"
  â”‚           â”‚   className: "toolbar-item" (hoveræ˜¾ç¤º)
  â”‚           â”‚
  â”‚           â””â”€â”€ content:
  â”‚               â””â”€â”€ <Flex gap={10} vertical>
  â”‚                   â””â”€â”€ <ListItem> Ã— N (æ¯ä¸ªModel)
  â”‚
  â”œâ”€â”€ <SettingHelpTextRow> (æ¡ä»¶)
  â”‚   æ–‡æ¡£é“¾æ¥ | æ¨¡å‹åˆ—è¡¨é“¾æ¥
  â”‚
  â””â”€â”€ <Flex gap={10}>
      â”œâ”€â”€ <Button type="primary"> ç®¡ç†
      â”‚   icon: <ListCheck />
      â””â”€â”€ <Button> æ·»åŠ 
          icon: <PlusOutlined />
```

### æ¨¡å‹åˆ—è¡¨é¡¹å¸ƒå±€
```typescript
<ListItem>
  display: flex
  align-items: center
  gap: 10px
  font-size: 14px
  
  â”œâ”€â”€ <HStack> (å·¦ä¾§ï¼Œflex: 1)
  â”‚   â”œâ”€â”€ <Avatar>
  â”‚   â”‚   src: getModelLogo(model.id)
  â”‚   â”‚   size: 26Ã—26
  â”‚   â”‚   fallback: é¦–å­—æ¯å¤§å†™
  â”‚   â”‚
  â”‚   â””â”€â”€ <ModelIdWithTags>
  â”‚       - model.name
  â”‚       - model.typeæ ‡ç­¾
  â”‚       - overflow: hidden
  â”‚
  â””â”€â”€ <Flex gap={4}> (å³ä¾§æ“ä½œ)
      â”œâ”€â”€ <ModelLatencyText> (æ¡ä»¶)
      â”‚   font-size: 12px
      â”‚   color: secondary
      â”‚   å†…å®¹: "0.8s" æ ¼å¼
      â”‚
      â”œâ”€â”€ <StatusIndicator> (æ¡ä»¶)
      â”‚   çŠ¶æ€å›¾æ ‡:
      â”‚   - checking: <LoadingOutlined spin />
      â”‚   - success: <CheckCircleFilled /> (ç»¿è‰²)
      â”‚   - error: <CloseCircleFilled /> (çº¢è‰²)
      â”‚   - partial: <ExclamationCircleFilled /> (é»„è‰²)
      â”‚   + Tooltipè¯¦æƒ…
      â”‚
      â”œâ”€â”€ <Button> ç¼–è¾‘å‚æ•°
      â”‚   icon: <Bolt size={16} />
      â”‚   disabled: checking
      â”‚
      â””â”€â”€ <Button> åˆ é™¤
          icon: <MinusOutlined />
          disabled: checking
```

### æŠ˜å ç»„åŠ¨ç”»
```scss
.toolbar-item {
  opacity: 0;
  transition: opacity 0.2s;
}

&:hover .toolbar-item {
  opacity: 1;
}
```

---

## ğŸªŸ å¼¹çª—ç»„ä»¶è®¾è®¡

### 1. AddProviderPopup (æ·»åŠ Provider)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ Provider                     [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚           â”‚  [Logoé¢„è§ˆ]  â”‚ â† ç‚¹å‡»ä¸Šä¼     â”‚
â”‚           â”‚   60Ã—60     â”‚               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                         â”‚
â”‚  åç§°: [___________________________]   â”‚
â”‚                                         â”‚
â”‚  ç±»å‹: [OpenAI â–¼]                      â”‚
â”‚       - OpenAI                          â”‚
â”‚       - OpenAI-Response                 â”‚
â”‚       - Gemini                          â”‚
â”‚       - Anthropic                       â”‚
â”‚       - Azure OpenAI                    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      [å–æ¶ˆ]  [ç¡®å®š]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¸ƒå±€ç‰¹ç‚¹**:
- å±…ä¸­æ˜¾ç¤º: `centered: true`
- å®½åº¦: 360px
- Logo: 60Ã—60pxï¼Œåœ†è§’12px
- æ”¯æŒæ‹–æ”¾ä¸Šä¼ 
- è‡ªåŠ¨å‹ç¼©å›¾ç‰‡ (GIFé™¤å¤–)

### 2. ApiKeyListPopup (API Keyç®¡ç†)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Provider Name - API Keyç®¡ç†          [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API Keysåˆ—è¡¨:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ sk-xxxxx...xxxxx  [ğŸŸ¢æ£€æŸ¥] [âŒåˆ é™¤]    â”‚  â”‚
â”‚  â”‚ sk-yyyyy...yyyyy  [âšªæœªæ£€] [âŒåˆ é™¤]    â”‚  â”‚
â”‚  â”‚ sk-zzzzz...zzzzz  [ğŸ”´å¤±è´¥] [âŒåˆ é™¤]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [â• æ·»åŠ æ–°Key]                              â”‚
â”‚                                              â”‚
â”‚  æ‰¹é‡æ“ä½œ:                                   â”‚
â”‚  [å…¨éƒ¨æ£€æŸ¥] [åˆ é™¤å¤±è´¥] [å¯¼å‡º]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             [å…³é—­]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. HealthCheckPopup (å¥åº·æ£€æŸ¥é…ç½®)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨¡å‹å¥åº·æ£€æŸ¥                      [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ£€æŸ¥æ¨¡å¼:                               â”‚
â”‚  â—‹ å¹¶å‘æ£€æŸ¥ (å¿«é€Ÿï¼Œæ¶ˆè€—é…é¢å¤š)          â”‚
â”‚  â— ä¸²è¡Œæ£€æŸ¥ (æ…¢é€Ÿï¼ŒèŠ‚çœé…é¢)            â”‚
â”‚                                          â”‚
â”‚  API Keys: (é€‰æ‹©è¦æµ‹è¯•çš„Keys)           â”‚
â”‚  â˜‘ sk-xxxxx...xxxxx                     â”‚
â”‚  â˜‘ sk-yyyyy...yyyyy                     â”‚
â”‚  â˜ sk-zzzzz...zzzzz                     â”‚
â”‚                                          â”‚
â”‚  é¢„è®¡è€—æ—¶: ~30ç§’                        â”‚
â”‚  æ¶ˆè€—é…é¢: ~0.001ç¾å…ƒ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      [å–æ¶ˆ]  [å¼€å§‹æ£€æŸ¥]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ModelEditContent (æ¨¡å‹å‚æ•°ç¼–è¾‘)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼–è¾‘æ¨¡å‹ - gpt-4o                   [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€ä¿¡æ¯:                                 â”‚
â”‚  æ¨¡å‹ID:   [gpt-4o]                        â”‚
â”‚  æ˜¾ç¤ºåç§°: [GPT-4 Optimized]               â”‚
â”‚  åˆ†ç»„:     [GPT-4 Family]                  â”‚
â”‚                                            â”‚
â”‚  å®šä»·ä¿¡æ¯:                                 â”‚
â”‚  è¾“å…¥ä»·æ ¼: [5.00] ç¾å…ƒ/ç™¾ä¸‡tokens          â”‚
â”‚  è¾“å‡ºä»·æ ¼: [15.00] ç¾å…ƒ/ç™¾ä¸‡tokens         â”‚
â”‚                                            â”‚
â”‚  æ¨¡å‹ç±»å‹:                                 â”‚
â”‚  â˜‘ text  â˜‘ vision  â˜ embedding            â”‚
â”‚  â˜‘ reasoning  â˜‘ function_calling          â”‚
â”‚                                            â”‚
â”‚  ç«¯ç‚¹ç±»å‹:                                 â”‚
â”‚  â— openai  â—‹ anthropic  â—‹ gemini          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      [å–æ¶ˆ]  [ä¿å­˜]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ è®¾è®¡è§„èŒƒ

### é¢œè‰²ç³»ç»Ÿ
```css
/* ä¸»é¢˜å˜é‡ */
--color-background: èƒŒæ™¯è‰²
--color-background-soft: æŸ”å’ŒèƒŒæ™¯
--color-background-mute: é™éŸ³èƒŒæ™¯
--color-border: è¾¹æ¡†è‰²
--color-text: ä¸»æ–‡æœ¬è‰²
--color-text-1: ä¸€çº§æ–‡æœ¬
--color-text-2: äºŒçº§æ–‡æœ¬
--color-text-3: ä¸‰çº§æ–‡æœ¬

/* çŠ¶æ€é¢œè‰² */
--color-status-success: æˆåŠŸ (ç»¿è‰²)
--color-status-error: é”™è¯¯ (çº¢è‰²)
--color-status-warning: è­¦å‘Š (é»„è‰²)
--color-primary-outline: ä¸»è‰²è°ƒè½®å»“
```

### å°ºå¯¸ç³»ç»Ÿ
```css
/* åœ†è§’ */
--list-item-border-radius: åˆ—è¡¨é¡¹åœ†è§’

/* é«˜åº¦ */
--navbar-height: å¯¼èˆªæ é«˜åº¦

/* å®½åº¦ */
--settings-width: è®¾ç½®é¢æ¿å®½åº¦ (å·¦ä¾§åˆ—è¡¨)
```

### å­—ä½“è§„èŒƒ
```css
/* æ ‡é¢˜ */
font-size: 14px
font-weight: bold

/* å‰¯æ ‡é¢˜ */
font-size: 14px
font-weight: bold
color: var(--color-text-1)

/* æ­£æ–‡ */
font-size: 14px
font-weight: 500

/* è¾…åŠ©æ–‡æœ¬ */
font-size: 11-12px
opacity: 0.4

/* ä»£ç å­—ä½“ */
font-family: 'Monaco', 'Menlo', 'Consolas', monospace
```

### é—´è·ç³»ç»Ÿ
```css
/* å¤–è¾¹è· */
margin: 5px, 10px, 15px, 20px

/* å†…è¾¹è· */
padding: 5px, 8px, 10px, 16px, 20px

/* é—´éš™ */
gap: 4px, 5px, 8px, 10px, 12px
```

---

## ğŸ­ äº¤äº’è®¾è®¡

### è¿‡æ¸¡åŠ¨ç”»
```css
/* é€šç”¨è¿‡æ¸¡ */
transition: all 0.2s ease-in-out

/* é€æ˜åº¦è¿‡æ¸¡ */
transition: opacity 0.2s

/* å˜æ¢è¿‡æ¸¡ */
transform: translateZ(0)
will-change: opacity
```

### æ‚¬åœæ•ˆæœ
- Provideråˆ—è¡¨é¡¹: èƒŒæ™¯å˜æµ…
- æŒ‰é’®: é¢œè‰²åŠ æ·±
- å·¥å…·æ é¡¹: æ·¡å…¥æ·¡å‡º (opacity: 0 â†’ 1)

### æ¿€æ´»çŠ¶æ€
- åˆ—è¡¨é¡¹: åŠ ç²— + è¾¹æ¡† + èƒŒæ™¯
- å¼€å…³: é¢œè‰²å˜åŒ– + åŠ¨ç”»
- æŒ‰é’®: Ghostæ ·å¼ (æˆåŠŸæ—¶)

---

## ğŸ“± å“åº”å¼è®¾è®¡

### å›ºå®šå…ƒç´ 
- å·¦ä¾§åˆ—è¡¨å®½åº¦: `calc(var(--settings-width) + 10px)`
- é«˜åº¦: `calc(100vh - var(--navbar-height))`

### æ»šåŠ¨åŒºåŸŸ
- Provideråˆ—è¡¨: ç‹¬ç«‹æ»šåŠ¨
- é…ç½®é¢æ¿: ç‹¬ç«‹æ»šåŠ¨
- éšè—æ»šåŠ¨æ¡: `::-webkit-scrollbar { display: none }`

### è‡ªé€‚åº”
- å³ä¾§é¢æ¿: `flex: 1` è‡ªé€‚åº”å®½åº¦
- æ–‡æœ¬æº¢å‡º: `text-nowrap` + `overflow: hidden`

---

## ğŸ”§ ç‰¹æ®ŠåŠŸèƒ½

### æ‹–æ‹½æ’åº
- åº“: `@hello-pangea/dnd`
- è§†è§‰åé¦ˆ: `cursor: grab`
- ç¦ç”¨æ¡ä»¶: æœç´¢æ¿€æ´»æ—¶

### æœç´¢è¿‡æ»¤
- å®æ—¶è¿‡æ»¤: Provideråç§° + æ¨¡å‹åç§°
- å¿«æ·é”®: ESCæ¸…ç©º
- æ‹–æ‹½ç¦ç”¨: æœç´¢æ—¶ä¸å¯æ‹–æ‹½

### é˜²æŠ–æ›´æ–°
- API Key: 150msé˜²æŠ–
- é¿å…é¢‘ç¹çŠ¶æ€æ›´æ–°

### çŠ¶æ€ç®¡ç†
- Reduxå­˜å‚¨: ProviderçŠ¶æ€
- IndexedDB: è‡ªå®šä¹‰Logo
- æœ¬åœ°çŠ¶æ€: UIäº¤äº’çŠ¶æ€

---

è¿™æ˜¯ä¸€ä¸ªå±‚æ¬¡æ¸…æ™°ã€äº¤äº’æµç•…ã€åŠŸèƒ½å®Œæ•´çš„æ¸ é“é…ç½®UIç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„åŒæ å¸ƒå±€ã€å¡ç‰‡å¼è®¾è®¡å’Œç›´è§‚çš„æ“ä½œæµç¨‹ã€‚